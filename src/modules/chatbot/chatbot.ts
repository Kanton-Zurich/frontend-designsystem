/*!
 * Chatbot
 *
 * @author
 * @copyright
 */
import Module from '../../assets/js/helpers/module';
import StyleOptions from './chatbot.types';

type RequestInit = {
  method?: string;
  headers?: any;
};

class Chatbot extends Module {
  public ui: {
    element: HTMLDivElement;
    button: HTMLButtonElement;
    dialog: HTMLDivElement;
    loading: HTMLSpanElement;
    error: HTMLSpanElement;
  };

  constructor($element: any, data: Object, options: Object) {
    const defaultData = {};
    const defaultOptions = {
      domSelectors: {
        button: '.mdl-chatbot__button',
        dialog: '.mdl-chatbot__dialog',
        loading: '.mdl-chatbot__loading',
        error: '.mdl-chatbot__error',
      },
    };

    super($element, defaultData, defaultOptions, data, options);
    this.initEventListeners();
  }

  styleOptions: StyleOptions = {
    rootHeight: '100%',
    rootWidth: '100%',
    backgroundColor: 'var(--color-accent)',
    primaryFont: '"InterRegular", Helvetica, sans-serif',

    bubbleBorderRadius: 10,
    bubbleTextColor: 'var(--color-accent)',
    bubbleFromUserBorderRadius: 10,
    bubbleFromUserBackground: 'rgba(0, 0, 0, 0.6)',
    bubbleFromUserBorderWidth: 0,
    bubbleFromUserTextColor: '#FFF',
    timestampColor: 'rgba(255, 255, 255, 0.7)',

    suggestedActionBackgroundColor: 'rgba(0, 0, 0, 0.2)',
    suggestedActionBackgroundColorOnHover: 'rgba(0, 0, 0, 0.6)',
    suggestedActionBorderWidth: 0,
    suggestedActionTextColor: '#fff',

    suggestedActionLayout: 'flow',
    hideUploadButton: true,
    sendBoxHeight: 72,
    sendBoxButtonColor: 'rgba(0, 0, 0, 0.6)',
    sendBoxButtonShadeColor: 'rgba(0, 0, 0, 0.2)',
    sendBoxButtonShadeInset: 0,
    sendBoxButtonColorOnHover: '#fff',
    sendBoxButtonShadeColorOnHover: 'rgba(0, 0, 0, 0.8)',
    sendBoxButtonKeyboardFocusIndicatorBorderStyle: 'none',

    botAvatarInitials: '',
    avatarSize: 32,
    avatarBorderRadius: 0,
    botAvatarBackgroundColor: 'initial',
    botAvatarImage:
      'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMyAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zMi42OTUzIDE4Ljk2NjZMMzIuNjk1MyAxMi43Mzk3TDI2LjQ5OTQgMTIuNzM5N0wzMi42OTUzIDE4Ljk2NjZaIiBmaWxsPSIjRkZGRkZFIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjYuNDk5NSAxOC45NjY2SDMyLjY5NTRWMTIuNzM5N0gyNi40OTk1VjE4Ljk2NjZaTTI2LjY4MDIgMTguNzg1SDMyLjUxNDdWMTIuOTIxM0gyNi42ODAyVjE4Ljc4NVoiIGZpbGw9IiNGRkZGRkUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjY4OTMxIDMxLjM0MjRDOC44MDM1OCAzMS4zNzc3IDguOTI3MzQgMzEuNDQ2NiA4Ljk4NjIyIDMxLjUzNzZDOS4xMzA2OCAzMS4zNjQ0IDkuMzI4NzkgMzAuOTU3NSA5LjI0MjQ2IDMwLjU4MjdDOC45NzEyNSAzMC41ODI3IDguNzIwNSAzMS4wMDg2IDguNjg5MzEgMzEuMzQyNFpNOS4zODQ5MyAzMC4xODg4QzkuNDg3OTggMzAuMzkgOS41NDM4NyAzMC43NDQgOS41MTQ2NyAzMC45NjA1QzkuNTUyNiAzMC45NjQ1IDkuNjAwMjYgMzAuOTc5NiA5LjY0MzE3IDMwLjk5ODRDOS43MjcyNSAzMC43ODg0IDkuODEzNTggMzAuMjgxNSA5LjYyNTk1IDI5Ljk0NjNDOS41MzgxMyAyOS45NjA4IDkuNDA5MzggMzAuMDU2MiA5LjM4NDkzIDMwLjE4ODhaTTEwLjA1MjQgMzAuNDQyOUMxMC4xNjI5IDMwLjExNjYgMTAuMTMwNSAyOS43MjEyIDEwLjAxNDcgMjkuNTY3MUM5Ljk4NTQ5IDI5LjUyNzMgOS44MTczMyAyOS42MjE1IDkuNzg4MTMgMjkuNzM5QzkuODgwNDUgMjkuODk3NiA5Ljk2OTc3IDMwLjIyMzYgOS45NjAwNCAzMC40MjUzQzkuOTg5MjMgMzAuNDI1MyAxMC4wMjI5IDMwLjQyOTYgMTAuMDUyNCAzMC40NDI5Wk0xNy43Njg4IDI5Ljk5MTlDMTcuOTIwMyAzMC4wMTY3IDE4LjA2MzMgMzAuMDc4MyAxOC4xNDY2IDMwLjEzMTRDMTguMjIwNCAzMC4wMDgxIDE4LjQwNzEgMjkuNTA4NSAxOC4zIDI5LjIzNDlDMTcuOTkyOSAyOS4yNjQyIDE3Ljc2MzkgMjkuNzcyNiAxNy43Njg4IDI5Ljk5MTlaTTE4LjQ3MiAyOC45MDQ0QzE4LjU0NzggMjkuMDQwNyAxOC42MDk5IDI5LjMxMTYgMTguNjE0NCAyOS40ODMyQzE4LjY1NDggMjkuNDg2MiAxOC43MDYgMjkuNDg2MiAxOC43NDI3IDI5LjQ5NjVDMTguODUyOSAyOS4xNjI3IDE4LjgxNjUgMjguNzU3MSAxOC43MDYgMjguNjA5QzE4LjYzOTEgMjguNTg2OSAxOC41MjI0IDI4Ljc2MzEgMTguNDcyIDI4LjkwNDRaTTE5LjA5NyAyOC42NjM0QzE5LjEzMzYgMjguNDc2NCAxOS4wOTcgMjguMTI4NCAxOC45OTgyIDI3Ljk5ODlDMTguOTI4OCAyNy45NTUgMTguODQ3NSAyOC4wODczIDE4LjgxMiAyOC4yNDU5QzE4Ljg5MjEgMjguMzYxOSAxOC45ODg0IDI4LjU0MjggMTkuMDA5MSAyOC42NjM0QzE5LjAzODYgMjguNjYwNCAxOS4wNjU1IDI4LjY2MDQgMTkuMDk3IDI4LjY2MzRaTTEyLjAwODIgMTguOTQxN0MxMS41Nzc4IDE5LjEwMDYgMTEuMDM4OSAxOS40Njc2IDExLjAyMjcgMTkuNTcwNkMxMC45ODY1IDE5LjgwODkgMTAuOTcyIDIwLjE1MjkgMTAuOTcyIDIwLjQwOThDMTEuMjUyNyAyMC4yNDY5IDExLjMzMjYgMTkuOTU0MiAxMS42NDgyIDE5LjcwMjdDMTIuMjE3MyAxOS4yNTM0IDEyLjQ5MzggMTkuMTg4MyAxMi40NjM2IDE5LjEyMjZDMTIuMzk4IDE5LjAwMTggMTIuMTMxMiAxOC45NDE3IDEyLjAwODIgMTguOTQxN1pNMTguMTc1OCAyNy4zOTA3QzE3LjMxNyAyNy4zMDA4IDE2LjQ4OTYgMjguMDc1MyAxNS45NDg0IDI3LjczM0MxNS43MDE5IDI3LjU3NzQgMTUuMzcyMyAyNy4yMjAxIDE1LjEzMDggMjYuODY0M0MxNC45NzkxIDI2LjY0MjYgMTQuNTUxNyAyNi4wMDE5IDE0LjU5MDkgMjUuNzQ0NUMxNC42MDY4IDI1LjYzNyAxNC43NzcgMjUuNTU4MSAxNS4wNzY3IDI1LjM2NjdDMTUuNjAwMSAyNS4wMzQ5IDE2LjA3MDUgMjQuNzAxMiAxNi41MDYxIDI0LjM0NjlDMTcuMDM2NSAyMy45MTc3IDE3Ljg1MjkgMjMuMjY4IDE3Ljg2MDcgMjIuNDI0OEMxNy44NjY0IDIxLjg0NDIgMTcuNDg0NCAyMS4yMTIzIDE3LjE4NjIgMjAuODI0MkMxNi42NjIzIDIwLjE0MjcgMTUuNzYwMyAxOS40OTQyIDE0LjkwMDUgMTkuMDAxOEMxNC41MjI1IDE4Ljc4NjQgMTMuODE2NCAxOC40MTU4IDEzLjM3NjMgMTguMjQwNEMxMi45NDMxIDE4LjQ4NDcgMTIuNzI5NiAxOC41NTA4IDEyLjM2MjUgMTguNzQ5M0MxMi42MzE4IDE4Ljg1ODMgMTIuODUyOCAxOS4wMzI3IDEyLjgwOTIgMTkuMTgxNUMxMi43ODIgMTkuMjc0MiAxMi43MTQxIDE5LjI5NDUgMTIuMzkyMiAxOS41MDlDMTIuMjA0MSAxOS42MzU1IDExLjk3MzMgMTkuODE3NyAxMS44NjYzIDE5LjkxNjFDMTEuNjI5MiAyMC4xMzQ5IDExLjQ5OTUgMjAuMzc3NCAxMS4yOTc5IDIwLjYxODdDMTEuMTc1NiAyMC43NjQxIDExLjA5ODMgMjAuODE4NCAxMC45NzUgMjAuOTEwOUMxMC45NzQgMjEuMDMyNyAxMC45NjcxIDIxLjE0NDkgMTAuOTU5OCAyMS4yOTlDMTIuMzYyNSAyMS4zMzg2IDEzLjYzMTUgMjEuNzQ1OCAxNC4yNDMzIDIyLjUzMzhDMTQuMzMwOSAyMi42NDY4IDE0LjQ2NjQgMjIuODQyIDE0LjUyMSAyMi45ODczQzE0Ljc5NjIgMjMuNzIyNSAxNC4zMjkxIDI0LjMyMTggMTMuOTM2OSAyNC41ODIyQzEzLjU0NzIgMjQuODQwNyAxMi42NTkgMjQuOTk4NCAxMi40MDg0IDI1LjIzNjFDMTIuMjE1NiAyNS40MTg1IDEyLjE5ODEgMjUuNzQ5IDExLjk2ODggMjYuMDMzOUMxMS44NjYgMjYuMTYzNSAxMS43NDQzIDI2LjIzOTkgMTEuNiAyNi4zMjM2QzExLjY3ODEgMjYuNDcyMiAxMS45NzgzIDI2LjYwMjcgMTIuMTkyNCAyNi41Nzk0QzEyLjI3NTUgMjYuNDk4NSAxMi4zNTg1IDI2LjQ0MjkgMTIuNDQ0NCAyNi4zMTE4QzEyLjUxIDI2LjIxMTggMTIuNTY3NiAyNi4wNTE3IDEyLjU2MjkgMjUuODc1M0MxMi41NjE5IDI1LjgzMTIgMTIuNjIzOCAyNS43ODI2IDEyLjY1MTUgMjUuOTI5NEMxMi43OTA3IDI2LjY2MTYgMTEuOTQ0NiAyNi43NDY4IDEyLjA5NzEgMjcuNTY1NEMxMi4yNTIzIDI3LjQ2MTIgMTIuNTAwNSAyNy4zMzY2IDEyLjc2NjcgMjcuNDA0QzEyLjgzMzYgMjcuMjYxMiAxMi45MjkyIDI3LjE3NzMgMTMuMDA2MyAyNy4wNTU1QzEzLjA1MjcgMjYuOTgyMSAxMy4xMDczIDI2Ljg2NzMgMTMuMTAwMyAyNi42NTczQzEzLjA5ODYgMjYuNjA0MiAxMy4xNjk5IDI2LjU4MzkgMTMuMTk5MSAyNi43Njg4QzEzLjI4MyAyNy4yOTY1IDEyLjcyNzMgMjcuNDMwMyAxMi45NTY5IDI4LjI2NUMxMy4xMDY2IDI4LjEzNTcgMTMuMzI2OSAyOC4wNzg1IDEzLjUzODcgMjguMDg0MUMxMy41OTM5IDI3Ljk2NSAxMy43MjgxIDI3Ljg0NDUgMTMuNjk1OSAyNy41ODAyQzEzLjY4ODkgMjcuNTIxNSAxMy43NTEzIDI3LjQ2MjkgMTMuNzk3NSAyNy42NTgxQzEzLjg4OTggMjguMDQ5IDEzLjU2MTcgMjguMTk1OCAxMy43MzAxIDI4LjcxMTVDMTQuMzE1MiAyOC40NzM5IDE0LjQ2NDYgMjguODk4NiAxNC43MjQxIDI5LjIzMzRDMTQuODcyMSAyOS40MjYzIDE1LjA2NzQgMjkuNzI4OCAxNS4yMjE2IDI5Ljg0NzhDMTUuNjE0NiAzMC4xNTA1IDE2LjcxNDQgMjkuODkwNCAxNy41NDg1IDI5Ljk3ODZDMTcuNjAyNCAyOS41MjI4IDE3Ljg5NTggMjkuMTE1OSAxOC4yNTM0IDI5LjAzMDdDMTguMDg0NSAyOC40NjYyIDE3LjM0MjkgMjguMzMyNCAxNi45NzcyIDI4LjcxMDJDMTYuOTIxOCAyOC43Njc2IDE2Ljk1NjUgMjguNjE2IDE3LjA2NDcgMjguNTIzOEMxNy40MTU1IDI4LjIyNjYgMTguMDQ0NSAyOC4zMTc4IDE4LjM1NTIgMjguNzI2NUMxOC40MTcxIDI4LjU3MTkgMTguNTM3MSAyOC40MzY4IDE4LjYyOTEgMjguNDMyOEMxOC4zNjYyIDI3Ljg3MTEgMTcuNjAwMiAyNy43NDU4IDE3LjE3OTMgMjguMDkwM0MxNy4xNDYzIDI4LjExNjYgMTcuMTM1NiAyOC4wNDMgMTcuMjUyNCAyNy45NDAyQzE3LjU3NzcgMjcuNjUzNiAxOC4yNzM2IDI3LjY3NDEgMTguNjg0IDI4LjExMzZDMTguNzEyIDI3Ljk1MzUgMTguNzk0OCAyNy44MzQyIDE4Ljg3NzYgMjcuODM0MkMxOC43NjQ0IDI3LjY1MDYgMTguNDU0NyAyNy40MTg2IDE4LjE3NTggMjcuMzkwN1pNMjIuODA2OSAxNS4zMzgzQzIyLjU0MDkgMTUuNTE4NyAyMi41NDAyIDE1Ljk0MjIgMjIuNTg2MyAxNi4yMTFDMjIuNzI3IDE2LjE4NjUgMjIuODQzNiAxNi4xOTA1IDIyLjk2NzEgMTYuMjI5NkMyMy4wNTE2IDE1Ljk0OTUgMjIuOTY2MSAxNS41MDA5IDIyLjgwNjkgMTUuMzM4M1pNMjMuMzA0OSAxNS41MzZDMjMuMzEwOSAxNS4yMTU2IDIzLjEzNzUgMTQuNzY5IDIyLjk0OTEgMTQuNjA2MkMyMi44NTggMTQuNjIwNyAyMi44MzkzIDE0LjgzNzUgMjIuODQ5NSAxNC45ODA4QzIzLjAyODQgMTUuMTM2NiAyMy4xNDggMTUuMzYzOSAyMy4yMDQ4IDE1LjU1MzFDMjMuMjM5MyAxNS41NDU1IDIzLjI3NzcgMTUuNTM3IDIzLjMwNDkgMTUuNTM2Wk0yMy4wMjUyIDE0LjM3MDlDMjMuMTUzMiAxNC41MDQ3IDIzLjI4NDQgMTQuNzAxMSAyMy4zNDYzIDE0Ljg3MzVDMjMuMzY3NSAxNC44NjggMjMuNDAzMiAxNC44NTkgMjMuNDI2MSAxNC44NTlDMjMuNDQxNiAxNC42MzEyIDIzLjMwMDQgMTQuMjI1MSAyMy4xMTM4IDE0LjA2M0MyMy4wMzM0IDE0LjA0MDkgMjMuMDA0MiAxNC4yNjYyIDIzLjAyNTIgMTQuMzcwOVpNMjEuOTYxOCA2LjgwMTg0QzIxLjc4MTcgNi41MTk5NiAyMS40MDkxIDYuNDEyMjIgMjEuMjE1NSA2LjQzMDUxQzIxLjE0NzcgNi43MDUzOCAyMS41MDI3IDcuMDIzMDkgMjEuNzQxIDcuMTExNzlDMjEuODE3NiA2LjkzNjQgMjEuODkzNyA2Ljg0ODQ1IDIxLjk2MTggNi44MDE4NFpNMjEuNDkwNSA2LjA5MDI0QzIxLjMyMDYgNS45MjQ2MiAyMC44ODM0IDUuNzIwNjYgMjAuNTY5MyA1LjgyNDY0QzIwLjU0MzkgNS45NTI5MyAyMC43MjA4IDYuMTI0ODIgMjAuODQ4NSA2LjIwMTc0QzIxLjAwMjQgNi4xNDMzNiAyMS4yMTk1IDYuMTE4MDUgMjEuNDUyOCA2LjE3MTkyQzIxLjQ2MjMgNi4xNDczNyAyMS40NzQzIDYuMTIyMzEgMjEuNDkwNSA2LjA5MDI0Wk0xOS43NDcyIDYuOTQ4OTNDMTkuNjMwOSA2LjYyNzIgMTkuNjUxNiA2LjM4ODE2IDE5Ljc3OTQgNi4xMTA1NEMxOS44NDE3IDUuOTc0OTggMTkuOTg0NyA1LjgyMTM4IDIwLjA4MTMgNS43NDgyMkMxOS45MTI2IDUuNzEwMzggMTkuODQ5IDUuNjIyNDQgMTkuODI3OCA1LjU0NTUxQzE4LjkwOTEgNi4wMzg4NyAxOS4zODc2IDYuOTk0NTMgMTkuMjkzMyA3Ljg0NTQ1QzE5LjIzNDcgOC4zNzQ2NCAxOC41NjU1IDguNTYzMzEgMTguMTI0OSA4Ljg0MDE5QzE3Ljc0NjEgOS4wNzg0NyAxNy4zNzUxIDkuMzM0NTUgMTcuMTEzNiA5LjYwMjkxQzE3LjU4NzcgMTAuNzI5OSAxNy4yNjMxIDEwLjk3NzMgMTcuNzkyIDExLjUyMTJDMTcuNzAyMiAxMS42MyAxNy41MzI2IDExLjcwNTkgMTcuNDA4NiAxMS43MDY0QzE3LjQwMTEgMTIuMTgzNyAxNy4zNTg5IDEyLjYxNjIgMTcuMjM2OSAxMy4wNDI5QzE3LjYyMzYgMTIuODg1MSAxNy45MTEzIDEzLjE0NjkgMTguMjMzOSAxMi44MzE0QzE3LjkzNzMgMTIuNjA0NyAxNy45MjUgMTIuMTgzNyAxOC4wMDA5IDExLjk0OTJDMTguMDQ1MyAxMS44MTM0IDE4LjEwMjcgMTEuODMwMiAxOC4xMDI3IDExLjg2NzhDMTguMTAyNyAxMS45MzYyIDE4LjExMTQgMTEuOTk4MSAxOC4xMjY5IDEyLjA0MjRDMTguMjk5IDEyLjA4NyAxOC42NjQzIDEyLjEwNDMgMTguOTA1OCAxMS45NDUyQzE4LjQ5MzIgMTEuMjM2MyAxOS4yODI4IDEwLjYxMjQgMTkuODgwOSAxMC4yMjAzQzIwLjI5NTYgOS45NDg0MyAyMC44OTM5IDkuNjQ4MjYgMjEuMTg5OCA5LjI0NjZDMjEuNTg5IDguNzA1ODggMjEuMzkyOSA4LjExNzgxIDIxLjY0OTIgNy4zMTY3NUMyMS4zNDc4IDcuMTY1MTYgMjAuOTQ5MSA2Ljg2NTc0IDIwLjk5MyA2LjQzNjc3QzIwLjY3NjEgNi40NzY4NiAyMC4zMDM4IDYuODcxIDIwLjUwNzkgNy41Mzg3NUMyMC41NDIxIDcuNjU0MjYgMjAuNDcyIDcuNjIwOTQgMjAuNDA1NCA3LjUxMjdDMjAuMTQ1OSA3LjAyMzM0IDIwLjM3NzQgNi40NjQzMyAyMC42NzMzIDYuMzAwOTdDMjAuNTA3MiA2LjE5NDczIDIwLjM2ODcgNS45ODYyNiAyMC4zODU5IDUuODc1MjZDMTkuOTA1NiA2LjA1MDY1IDE5Ljc1MzQgNi40NjkzNCAxOS44NTc1IDcuMDI1NkMxOS44NzM5IDcuMTA3NTMgMTkuODA1OCA3LjExMDA0IDE5Ljc0NzIgNi45NDg5M1pNMjAuNzUwMiA1LjQ0MTAzQzIwLjU4MDMgNS4zNjAzNSAyMC4yNTY3IDUuMzE3MjUgMjAuMDM1OSA1LjQ0NTU0QzE5Ljk2MzUgNS41MDk0MyAyMC4wNTQzIDUuNTk3ODggMjAuMjYyNyA1LjY0MDczQzIwLjQyNDYgNS41NjMzIDIwLjU5NjUgNS41MzE0OCAyMC43Mzc1IDUuNTI2NzJDMjAuNzM3NSA1LjQ5MjY0IDIwLjc0MiA1LjQ3OTYxIDIwLjc1MDIgNS40NDEwM1pNMTQuODE3MiA0LjYzMzk2QzE0Ljc5OSA0LjYyNDk0IDE0Ljc4NTUgNC42NjYwMyAxNC43NTc4IDQuNzA5NjNDMTQuNzE4NiA0Ljc2OTI2IDE0LjY1MzMgNC44NjEyMiAxNC41NjAyIDQuOTQyMTVDMTQuNjUgNC45MzY2NCAxNC44MjM3IDQuOTQ4OTIgMTQuOTA0OCA0Ljk2NzQ2QzE0LjkxNSA0Ljg0NjY5IDE0Ljg0NDEgNC42NDY0OSAxNC44MTcyIDQuNjMzOTZaTTEzLjAxMDMgNC45MzM4OEMxMy4xMjA1IDUuMzAzNDcgMTMuNzc2IDQuOTUyNjggMTQuMjg4IDQuOTE3MzVDMTQuNDQ4OSA0Ljc4MzggMTQuNTczNyA0LjY0ODk5IDE0LjY0MTUgNC41MzAyMkMxNC4wMTcgNC40MDQ2OSAxMy4zMjY2IDQuNDg2MTMgMTMuMDEwMyA0LjkzMzg4Wk0xNC45NTE0IDMuNzQ2OTZDMTUuMDAxMyAzLjg2MzcyIDE1LjAzNDggMy45OTQ1MiAxNS4wNDIgNC4wNDMxM0MxNS4wNDkyIDQuMDk0MjQgMTUuMDQ2NyA0LjEzOTA5IDE1LjA3MzcgNC4xMjUzMUMxNS4xNjMgNC4wODA0NiAxNS4zMTQ3IDMuODc3NzUgMTUuMzQwMSAzLjczNzY5QzE1LjIzMzYgMy43NTY0OCAxNS4wNDI1IDMuNzUzMjIgMTQuOTUxNCAzLjc0Njk2Wk0xMi44OTE1IDQuNTg0ODVDMTMuMzIxNiA0LjIyNjU0IDEzLjk0NDQgNC4wOTE3NCAxNC44NTc5IDQuMjQ5MDlDMTQuODUwMSA0LjA5MTk5IDE0Ljc2MjUgMy44NjM0NyAxNC42ODg5IDMuNzUzNzNDMTMuNzc0NyAzLjYwMjM4IDEyLjkxMDIgMy41ODc4NSAxMi44OTE1IDQuNTg0ODVaTTEwLjIyNjMgMC4zODExMjVDOC44NTc0OCAwLjMzOTI4MSA4LjM4MTE3IDAuNTU1NTE4IDcuNTQwODMgMC41OTE1OTlDNy4zNzkxNSAwLjU4NzM0IDcuMjUwNCAwLjU0MzQ5MSA3LjIwMSAwLjUyMDk0QzcuMTYwODMgMC42MTQ0MDEgNy4xNDUzNiAwLjg0OTE4IDcuMTk5MjYgMC45NjE2ODNDNi43MzcxNyAxLjIzOTA2IDYuNjgzMDMgMS43ODE1MyA2LjA3NDIzIDEuNjgzMzFDNi4wMzUwNiAxLjg1MDY5IDYuMTM3ODYgMi4wNzk3IDYuMjU0NjIgMi4xNjU2NUM2LjMxNjc1IDIuMTQxMDkgNi40NDU1IDIuMDk1OTkgNi40MjYwNCAyLjE1ODYzQzYuMTgwMjcgMi44NTgyMSA2LjIyODkzIDMuMTU4MTMgNi4xNjY4IDMuNTEwNDNDNi4xMjk4NyAzLjcyMTQgNS44MzEyMSAzLjkxNTM0IDUuNTU5IDMuOTY4OTZDNS41MzkyOSA0LjE1NTEzIDUuNjU3ODEgNC40MzUwMSA1LjkxNjU0IDQuNDgxODdDNi4wNzE5OSA0LjE2NDY1IDYuMzAxNzggNC4xMTU3OSA2LjI2MTg2IDQuMjEzMDFDNi4xOTU3NCA0LjM3NDEyIDYuMTQxMSA0LjY2MTUyIDYuMTM2MzYgNC44Njc0OUM2LjExOTg5IDUuNTU5MDQgNi4yOTUyOSA2LjI1OTEyIDYuNTE0ODYgNi43NzIyOEM2Ljk0MjUxIDcuNzcxNTMgNy40NzMyMSA4LjU2OTgzIDYuNzM1NjcgOS4wMzc4OEM2LjgzMTczIDkuMjY5OTEgNy4zMDg3OSA5LjQzMTUyIDcuNjYxMDkgOS4yODk3QzcuODA3NTUgOC45MDQwOCA3LjcxNDk5IDguNjE1MTggNy42OTUyNyA4LjUxOTcyQzcuNjg4NzkgOC40ODYxNCA3LjcyMTQ3IDguNDc5MTIgNy43NTc5IDguNTA4NDRDNy45NzI5NyA4LjY5MDEgNy45ODU0NSA5LjA0NzQgNy45NDQwMyA5LjMzMDc5QzcuODM1IDEwLjA4MiA3LjE5NjAxIDExLjAxMTMgNy42MzczOSAxMS44ODVDNy43NjkxMyAxMS43NjQgNy45NzI5NyAxMS42NjUzIDguMTU4MTEgMTEuNjI0QzguMTg4MyAxMS4xNjc3IDguMzMxNzcgMTAuODQ1NyA4LjU5NDk5IDEwLjY1MzhDOC43NDk2OSAxMC41NDEzIDguNzc2MTQgMTAuNjEyNCA4LjczNDIyIDEwLjY1OThDOC40MDkzNiAxMS4wNTc5IDguNDMxODIgMTEuODA3MSA4LjUxODQgMTIuNDc5NEM4LjYyNjkzIDEzLjMxOTMgOC4zNjMyIDEzLjgxMzEgOC4xMTE5NSAxMy45NDU3QzguNDIxMDkgMTQuMTQxNCA4LjkzNDMyIDE0LjAyMjkgOS4xOTg1NSAxMy44ODQ2QzkuMzkyMTcgMTMuNzgzMyA5LjY5MjA3IDEzLjUzMjMgOS44MDY2IDEzLjMwMjJDOS41MTQ0MyAxMi43OTkxIDkuNDk1NDYgMTIuMzI4IDkuNTY5ODIgMTIuMDI1MUM5LjYzMDk1IDExLjc3NTggOS43Njk2NyAxMS42ODk2IDkuNzQzNzIgMTEuODA5NkM5LjU1NzA5IDEyLjg2ODUgMTAuNTYwNCAxMy4zNTQ0IDEwLjUzNzkgMTQuMzg2MkMxMS4wNTgxIDE0LjIxNDMgMTEuMjg0NyAxMy41ODQxIDExLjI0MjUgMTIuOTkxNUMxMS4yNTE3IDEyLjkxMTYgMTEuMzE0NCAxMi45NTE3IDExLjM0MzMgMTMuMDMxOUMxMS42Mzg1IDEzLjg3NjMgMTEuMTAzIDE1LjA1MzIgMTAuMTA5IDE0Ljk1MDdDMTAuMjQ4NSAxNC40NTE2IDEwLjA4NTUgMTMuODY2MyA5Ljk0MTMzIDEzLjU4MjFDOS44MTM4MyAxMy44NDU1IDkuNTcyMDYgMTQuMDY2NyA5LjM0MjAyIDE0LjE5N0M5LjMxMTMzIDE0LjQ1OTkgOS4yNTI0NCAxNC42OTA0IDkuMjA3MDMgMTQuODgxNkM5LjA0Mjg2IDE1LjU3MzYgOC43NTQ2OCAxNi4wNTU0IDguMzI2MDMgMTYuNDk2MkM3LjM4OTEzIDE3LjQ2MDYgNy4wNDIwNyAxNy41MzgzIDYuNDI5NzggMTguNDMxOEM2LjI5NjI5IDE4LjU2OTkgNS44OTEzNCAxOC43OTA0IDUuNjU3NTYgMTguODgyOEMzLjgwMjk4IDE5LjYxNjUgMi4yNDgzIDE4LjYxODIgMi4zNzIwNiAxNi42MjEyQzIuNDIxNzEgMTUuODE4OSAyLjgzODg4IDE0Ljc2MjMgMy4xNzEyMyAxMy45OTg4QzQuMTQzMDUgMTEuNzY2IDUuMDU3NDkgOS44OTg1NyA1LjE3NDUxIDguMTk1NDhDNS4yNzA1NyA2Ljc5NTA4IDQuNjcxMDEgNS4zOTg5MyAzLjIyMTM4IDUuMzg0MTVDMi4yMzYzMyA1LjM3NDEzIDEuMjg2OTUgNi4xODU5NiAxLjI2NjI0IDcuODEzODdDMS4yNTQwMiA4Ljc3MzI5IDEuMjc1OTggOS40OTc5MiAwLjg2NjUzNSAxMC4xNTI2QzAuNzc5NzA3IDEwLjI5MjcgMC43MzY1NDMgMTAuMzYxOSAwLjYxODUyNiAxMC41MTVDMS4xODMxNiAxMC42MDk0IDEuNzc5NDggMTAuMjg4NSAyLjE3NjY5IDkuODMxNDJDMi4yMTQzNyA5Ljg5OTA3IDIuMjc1IDEwLjAwNjggMi4zMDA3IDEwLjExMTNDMi43MTg2MiA5LjcwOTE1IDIuNzg0OTkgOC45Njc3MiAyLjYzMDU1IDguMzc5NEMyLjkwMzAxIDguNDU4NTggMy4xNDgwMiA4LjI5MTcgMy4yNDUzMyA4LjA1OTkzQzIuNjE2NTcgNy45NzY0OSAyLjE5NTkxIDcuMzc2ODkgMi4yOTQ5NiA2LjcxOTQxQzIuMzUzODQgNi4zMzA3OCAyLjY5NTkyIDUuOTA1ODIgMy4xNTk1IDUuODUxMkM0LjM2ODYxIDUuNzA3ODggNC43MjM0IDYuOTM5NCA0LjcwNjY5IDguMTA3MjlDNC42ODUyMyA5LjU4Nzg3IDMuNzk1MjQgMTEuMjIzOCAzLjAwNjU1IDEyLjg4M0MyLjM3MTgxIDE0LjIxODggMS42NTE3MyAxNS41NzQ5IDEuNTc4MzggMTYuODQzMkMxLjQ5NzA0IDE4LjI1MTEgMi4xMzg3NyAyMC43NjcxIDUuNjI1ODcgMjAuMjIxOEM1Ljc2NTU5IDE5LjgxMzIgNS45MzggMTkuNjU0NiA2LjA0MjA1IDE5LjcwMTdDNi4wNzU5OCAxOS43MTkyIDYuMDUxMDMgMTkuNzgzNiA2LjAzMTgyIDE5LjkxNDlDNS45Njg5NCAyMC4zNDg0IDUuOTQ3NDggMjAuNjE4NyA1Ljk2ODk0IDIxLjA4MThDNi4wMDk2MSAyMS45OTMxIDYuNDA0ODMgMjIuOTAzOSA2LjQ1MTI0IDIzLjU2MjRDNi41MjQ1OSAyNC42MDQgNS45ODg2NSAyNC43MjQ3IDUuMTQwNTggMjQuODIwMkM0Ljc4NDI4IDI0Ljg2MTMgNC4yNTMzMyAyNC44NDggMy45Mjg5OCAyNS4wMDQxQzMuNzQwNiAyNS4wOTUxIDMuNjE2NTkgMjUuNTY1MSAzLjQzMjcxIDI1LjgwMTlDMy4yNTE4MiAyNi4wMzU0IDMuMDAyNTYgMjYuMTUxNCAyLjcwMDQxIDI2LjIxMDZDMi43OTIyMyAyNi40NDU2IDMuMTA2NiAyNi42MTQ3IDMuNDQ4NDMgMjYuNjIzNUMzLjU3MjQzIDI2LjUzMDggMy43MDc5MSAyNi4zMDg4IDMuNzY1MyAyNi4wNDQyQzMuNzc3MDMgMjUuOTkwMSAzLjg0Mzg5IDI1Ljk1MDUgMy44MzY2NiAyNi4xNTQ3QzMuODE4NDQgMjYuNzAyNCAzLjMxNDk0IDI3LjMwMDggMi43NTI4IDI3LjM4NjVDMi44NTM4NSAyNy42NDc4IDMuMjUyMzIgMjcuODQ2NSAzLjU2MzcgMjcuODA5MkMzLjgwNzQ3IDI3LjY3ODQgNC4wMDA4MyAyNy40NDUxIDQuMDg5OTEgMjcuMTE0MUM0LjExMjg2IDI3LjAyMDQgNC4xNzI0OSAyNy4wNjI4IDQuMTY4NzUgMjcuMTg2QzQuMTYxNTIgMjcuNTEyOCAzLjk5MzYgMjcuNzc5OSAzLjc3MzAzIDI3Ljk4NDNDMy41NTE5NyAyOC4xODgzIDMuNDA5MDEgMjguNDYwNyAzLjQ4MTExIDI4Ljc3OTRDMy42MjY1NyAyOC43MDYgMy45MDg1MiAyOC42OTEyIDQuMTE5ODUgMjguNzM4QzQuMjI3MzkgMjguNjM2OCA0LjM3Nzg0IDI4LjQ2NzcgNC40MjEyNSAyOC4yMjM5QzQuNDM1NzIgMjguMTQyNyA0LjUxODMxIDI4LjE2MDUgNC41MDM4NCAyOC4zNTE5QzQuNDY5OTEgMjguODA1NyA0LjA5NzM5IDI5LjAxNDQgNC4xOTI0NSAyOS40NDM5QzUuMDgwMiAyOS4wMTc0IDUuMTc3NTEgMzAuNjAxNyA1Ljg2Nzg5IDMxLjA3OTNDNi40NDAwMSAzMS40NzQ0IDcuNTAxMTYgMzEuMjM4MiA4LjQ2NiAzMS4zMDcxQzguNTM1MzYgMzAuODgwOSA4LjgwNjMzIDMwLjQ0NDQgOS4xODI1OCAzMC4zNjM3QzkuMDIxNjUgMjkuNzUzNiA4LjMxODA0IDI5Ljc3NzEgNy45OTU5MyAyOS45ODczQzcuOTI2MDcgMzAuMDM0MiA3Ljk0NjI4IDI5Ljk0MDUgOC4wMjUxMiAyOS44NzQzQzguNDE2MSAyOS41ODMyIDguOTgyMjMgMjkuNjcyNiA5LjI1MjQ0IDMwLjAwOTZDOS4zMTgzMSAyOS44ODYxIDkuNDQ5MDUgMjkuNzg0NCA5LjU1NDg0IDI5Ljc2NjhDOS4yNzcxNCAyOS4xODUgOC42MTQ0NiAyOS4wNzQ4IDguMTM0OSAyOS4zNzAyQzguMDQ4MzMgMjkuNDI3MyA4LjA3MzI4IDI5LjMgOC4yMjYyMiAyOS4yMTEzQzguODAwODQgMjguODc2MyA5LjQwOTYzIDI5LjEzNzkgOS42ODAxIDI5LjU2NTZDOS43MzQ5OSAyOS40NzQ0IDkuODU0MjUgMjkuMzYxNCA5Ljk0NTMyIDI5LjM2ODdDOS43ODgxMyAyOC45OTA4IDkuMzc4NjkgMjguNzIzNSA4Ljg1NzIzIDI4LjczMzhDNy45NTIwMiAyOC43NDk4IDcuMTg5MjggMjkuMzU0MiA2Ljg1NzkzIDI4Ljg4ODFDNi40ODQ5MiAyOC4zNTkyIDYuMDIxNTkgMjcuMzk5OCA1Ljk4NTQxIDI2LjI1MjlDNS45ODU0MSAyNi4xNTYyIDUuOTg4OSAyNi4wNjUgNi4wNzQ5OCAyNi4wMzM5QzYuNzc2MDkgMjUuODc0MyA3LjQzODI4IDI1Ljc0MTMgOC4wMzAxMSAyNS41NDkzQzguNjY2ODUgMjUuMzQwNCA5LjMwMDYgMjUuMTIwMSA5Ljc1NjQ1IDI0LjU4MjJDMTAuMjQyIDI0LjAxMDYgMTAuMzc0NSAyMi43MjAyIDEwLjQ1NzEgMjEuNjczOUMxMC40OTY1IDIxLjE3NCAxMC41NDU0IDIwLjQzMzMgMTAuNTgzOCAxOS44ODUxQzEwLjY0NTIgMTkuMDA3NiAxMC44Mjk2IDE4LjQ0NjMgMTEuMTcxNCAxOC4yODZDMTEuMjU4MiAxOC4yNDUxIDExLjMwMTYgMTguMjg3NyAxMS4yMzQzIDE4LjQwODVDMTEuMTQ3MiAxOC41NTM4IDExLjA3NTEgMTguODI0MiAxMS4wNDEyIDE5LjA3MDdDMTEuMTkzNiAxOC45NTA1IDExLjM5MDIgMTguODE5NyAxMS41MjY3IDE4Ljc0NUMxMS45NzUxIDE4LjUwMDcgMTIuMjc1IDE4LjM2ODcgMTIuNzY5NSAxOC4xMDg4QzEzLjI0MTMgMTcuODYgMTMuNjkzMiAxNy41Mjk1IDE0LjAzMDIgMTcuMjY0N0MxNC4yNDM4IDE3LjA5NiAxNC40OTE2IDE2Ljg5NDYgMTQuNzA0OSAxNi42MDUyQzE0LjY1MyAxNi41MzYgMTQuNTk4NCAxNi40NDMzIDE0LjU3MTQgMTYuMzc5OUMxNC4zMzA5IDE2LjcwNjIgMTMuODM1NiAxNi45NzY1IDEzLjQ0NjQgMTYuOTQyOUMxMy41NDk0IDE2LjYxNTIgMTMuNDMxMiAxNi4xNTY5IDEzLjE1NzUgMTUuOTMwNEMxMi44NTQ4IDE1LjY4MDYgMTIuNjY1NCAxNS41NDA1IDEyLjQ3NDYgMTUuMzI5OEMxMS44Mzg2IDE0LjYzMDIgMTIuMzgxMyAxMy4xNTI5IDExLjcyODggMTIuMjYxOUMxMS42ODI5IDEyLjE3MDIgMTEuNzgxOSAxMi4xOTQ3IDExLjg4OSAxMi4yOTY1QzEyLjI2ODUgMTIuNjU3NSAxMi4zNDA2IDEzLjIxMjggMTIuNDE4NyAxMy43Njk4QzEyLjQ3ODEgMTQuMTg3NSAxMi41MDIzIDE0LjY4NTkgMTIuNzAwMSAxNC45OTgxQzEzLjA1MjQgMTUuNTU0MyAxMy44NTUxIDE1LjY3NjMgMTMuODE5OSAxNi41MTRDMTQuMDc1NyAxNi40NDYzIDE0LjM5MDUgMTYuMTk4IDE0LjQwMyAxNS45NzlDMTQuMzkxIDE1Ljg3OSAxNC4zNDE2IDE1LjY1MzUgMTQuMjA1OSAxNS41NTE2QzE0LjE3MjcgMTUuNTI2IDE0LjE5MzcgMTUuNDc0OSAxNC4yOTUgMTUuNTA3QzE0LjQ4MzggMTUuNTY2MyAxNC41NzY3IDE1Ljc5OTkgMTQuNjU3NSAxNS45NzE1QzE0Ljc0NTEgMTYuMTU3NCAxNC44MzU5IDE2LjMyNTYgMTQuOTY0NiAxNi40NzU5QzE1LjE5NjQgMTYuNzQ0NSAxNS40ODA5IDE2Ljg4MTYgMTUuNTIwMyAxNy4zMTc4QzE1LjczNDkgMTcuMjUwNCAxNi4wMjExIDE3LjAyODQgMTYuMDQ3IDE2Ljc0MDJDMTUuOTMyNyAxNi40MTU1IDE2LjAwNjggMTYuMTA5NiAxNS42Njk3IDE1Ljg4NTFDMTUuNjI1NiAxNS44NTU1IDE1LjY0NTggMTUuNzgwOCAxNS44Mjg0IDE1Ljg1N0MxNi4yNTgxIDE2LjAzNzkgMTYuMTkzIDE2LjU1MzggMTYuNDAxNSAxNi44MzZDMTYuNTQwNSAxNy4wMjM5IDE2LjcwNjkgMTcuMTgyNSAxNi45ODk2IDE3LjI0NTZDMTcuMDE5MSAxNi45ODE1IDE3LjEzMTYgMTYuNjk2MSAxNy4zNjQ5IDE2LjU0NDhDMTcuMzQyOSAxNi4zOTc3IDE3LjMyMDUgMTYuMzA5OCAxNy4xNTUzIDE2LjE4MDJDMTcuMTExMSAxNi4xNDUxIDE3LjExOTQgMTYuMDc0NSAxNy4zMDY1IDE2LjE3QzE3LjY5NiAxNi4zNjg0IDE3LjU4MiAxNi45MjU0IDE4LjEwMjcgMTcuMTQ3NEMxOC4yNTA5IDE2LjY4NTkgMTguODExNSAxNi44NDUgMTkuMzQzNyAxNi45ODI4QzE5LjYwOSAxNy4wNTE5IDE5LjkzNDggMTcuMTMyNiAyMC4yMTk1IDE3LjE0NzRDMjEuMjc2NCAxNy4xOTkgMjEuNDUyMyAxNi40ODQ3IDIyLjM3OTIgMTYuMjUzNkMyMi4zMTI5IDE1Ljc4OTYgMjIuNDA4MiAxNS4zNjM5IDIyLjcwNDMgMTUuMTg2MkMyMi4zMTY4IDE0LjcyNjUgMjEuNjc2NCAxNC45NjE3IDIxLjQ1OSAxNS4yNzYyQzIxLjQxMDkgMTUuMzM5MyAyMS40MTY5IDE1LjIyODMgMjEuNDkxIDE1LjEyMTFDMjEuNzY5NyAxNC42OTg0IDIyLjMzNDYgMTQuNjU0OCAyMi42Nzg2IDE0Ljg1NjdDMjIuNjcxNiAxNC43MTE5IDIyLjcyNyAxNC40NzUxIDIyLjgxNDkgMTQuNDY5NEMyMi41NjE2IDE0LjE4MzUgMjEuODE5MSAxNC4wNjY1IDIxLjQxNjkgMTQuNTU0OEMyMS4zNjgyIDE0LjYxMDQgMjEuMzgwMiAxNC41MDQyIDIxLjQzODggMTQuNDE3NUMyMS43MzIzIDE0LjAxNDggMjIuMzk0MiAxMy45MDA4IDIyLjg0MjggMTQuMjM2OEMyMi44Mzg4IDE0LjE0MjYgMjIuODg3NSAxMy45Mzk0IDIyLjk5NjcgMTMuOTM0NEMyMi44MDc0IDEzLjcwOTQgMjIuNDI5OSAxMy41NzY5IDIyLjA2MDQgMTMuNjE0MkMyMC45OTU1IDEzLjcyMTQgMjAuNzA0MyAxNC45MDIxIDE5LjU1NjEgMTQuODA1NEMxOS4yOTA2IDE0Ljc4MzEgMTkuMDMzNiAxNC42MTE5IDE4LjUxOTkgMTQuNDM0NUMxOC4yNTA0IDE0LjM0MTMgMTcuOTE5OCAxNC4yNDk2IDE3LjYyMDQgMTQuMTc5QzE2Ljc5ODUgMTMuOTg1OCAxNi4wMzU1IDEzLjk3NTUgMTUuNjEyMSAxMy40MTkzQzE1LjQ2OTEgMTMuMjMxOCAxNS4zNDU0IDEzLjAwNTEgMTUuMjk3MiAxMi42NzE2QzE1LjI3MTUgMTIuNTE3NyAxNS4zMzE0IDEyLjQ0NzggMTUuMzc0MSAxMi41NTA1QzE1LjYyNjMgMTMuMDQ4MiAxNS44ODkzIDEzLjUwOTUgMTYuNTE0OCAxMy42MzE3QzE2Ljc3MDggMTMuMTQyNiAxNi45NjI3IDEyLjMwODggMTYuOTMxIDExLjU4NzRDMTYuNjU4NSAxMS40NjQxIDE2LjY2MDUgMTEuMzQwMyAxNi41NzI3IDExLjMwM0MxNi42MTE5IDExLjg1MTIgMTYuNDA2OCAxMi40MjM4IDE2LjIzNjYgMTIuNTk0OUMxNi4xNTg1IDEyLjA4MTIgMTUuNzMzNCAxMS43MDA5IDE1LjI5NiAxMS41ODE5QzE1LjIzOTggMTEuNTY2NiAxNS4yMzI2IDExLjQ3NDQgMTUuNDcwNiAxMS40OTA0QzE1LjYzMDggMTEuNTAxNCAxNi4wMDc2IDExLjYwMTIgMTYuMTczMyAxMS44MjE3QzE2LjMyNDUgMTEuMjkzIDE2LjIzMzkgMTAuNzk4MSAxNi4wNDc3IDEwLjMxNzhDMTUuOTQ3MiAxMC4wNTc0IDE1LjcwNjcgOS43MTc5MiAxNS40Mzk1IDkuNTIxMjJDMTUuMzgxMyA5LjQ3ODM4IDE1LjQwNTUgOS40MTIyMyAxNS41OTUxIDkuNTEwNDVDMTYuMDgxNCA5Ljc2MjUyIDE2LjQ1NTcgMTAuMjU1NiAxNi41Mzg1IDEwLjkzOTlDMTYuNzk1NSAxMS4wOTA4IDE2LjkwMzEgMTEuNDI4MyAxNy4yNjQxIDExLjMzMThDMTYuOTU1IDEwLjk4NCAxNy4xMDk0IDEwLjQwMiAxNi42MjI0IDkuNTU1MDVDMTYuMzYzNCA5LjEwNDUzIDE2LjAxNjMgOC43ODAzIDE1LjQzMjcgOC40OTI5MUMxNC43MTMxIDguMTM4MTEgMTMuODQ2MSA3Ljg4ODU0IDEzLjI5MSA3LjY2NTA0QzEyLjcwODkgNy40MzA3NiAxMi4zODY1IDcuMTcxNjggMTIuMzEwMSA2LjMyODUzQzEyLjExNSA2LjI0MDU4IDEyLjAwMSA2LjExNDI5IDExLjg4NSA1Ljk2NzcxQzExLjc3ODkgNi4wNjA2NyAxMS43MTM4IDYuMjY1MTMgMTEuNzA5MyA2LjM5ODQzQzExLjMzMTYgNi4yMTUyNyAxMS4xMjk3IDUuODI5NCAxMS4wOTQzIDUuNDkyMTRDMTAuOTc2IDUuNTA5NjggMTAuNzM2NSA2LjE5NTczIDkuODYxNDkgNS44Njc0OUMxMC4zODEyIDUuMzIyMDEgOS42Njg2MiA0Ljg5MTc5IDEwLjIzIDQuMjQyNThDMTAuMzM1MSA0LjExMTAzIDEwLjQ5MzUgNC4wNzc3MSAxMC40MjM5IDQuMTc1NjhDOS45MTIzOSA0LjkxMDMzIDEwLjUyOTIgNS4xNjM2NSAxMC4yOTAxIDUuNjQzOThDMTAuODQ0NSA1LjY5NjM1IDEwLjg3NzcgNC45NjAxOSAxMS4zNjQgNC45NzE5N0MxMS4yOTY5IDUuMjk3OTYgMTEuMzcyNSA1Ljc0MjIxIDExLjU2OTYgNS44ODEwMkMxMS42ODYxIDUuNjc0OCAxMS44Mjg4IDUuNTM5MjUgMTIuMDQzNyA1LjQ1NjA2QzEyLjEzODIgNS44NTk0NyAxMi40MjE5IDYuMDc1NzEgMTIuNzY4NSA2LjE1MzEzQzEzLjI5MiA2LjI2OTY0IDEzLjg4MDggNS45NTg0NCAxNC4zMDg3IDYuMDE5NThDMTQuNTY2OSA2LjA1NjE2IDE0Ljc5NzUgNi4yMDgyNiAxNC44ODk4IDYuNDI2NzVDMTUuMTAzNCA2LjIxNjc4IDE1LjI5ODcgNS40MjA5OCAxNS4yMTM5IDUuMzYxODVDMTQuMzgwOCA0LjgzODY3IDEzLjAyOTcgNS45NTg5NCAxMi42MzUzIDUuMDEyMDZDMTIuNTY1NCA0Ljg0NDQzIDEyLjUzMTUgNC42MzA5NSAxMi41NjA5IDQuNDQxMDJDMTIuNjc3NCAzLjY3NjMgMTMuMTgxNyAzLjMwNjcyIDE0LjA4NzQgMy4zNzI4N0MxNC40ODQ4IDMuNDAxOTMgMTUuMzU1OSAzLjU5MDExIDE1LjU4ODIgMy40MTY5N0MxNS43ODA4IDMuMjczMzkgMTUuNzI3OSAyLjczMzQzIDE1LjYxMTEgMi40OTczOUMxNS4zNzY4IDIuNDM0MjUgMTUuMTA1NiAyLjI3NTg5IDE1LjExOTYgMi4xMDI1QzE1LjEzMzggMS45NDg0MSAxNS4yNzYzIDIuMjcyNjQgMTUuNTg4MiAyLjE3NTY3QzE1LjY3NTUgMi4xMzU4MyAxNS43MjMxIDEuODE4ODYgMTUuNjY2MyAxLjc5OTMyQzE1LjE2NTcgMS42MTE5IDE0LjQ3NzEgMS40OTM2MyAxMy44NjgzIDEuNTU4MDNDMTMuNzc4MiAxLjgzMTM5IDEzLjU2MzkgMS44NTkyMSAxMy41NDU3IDIuMDY4NjhDMTMuNTE0NSAyLjQyNzk5IDEzLjQwMjcgMi43MjM0IDEzLjI1MSAyLjg0MDkyQzEzLjE5MjEgMi44ODA1MSAxMy4xOTU5IDIuODE5ODcgMTMuMjMwNiAyLjcwNjExQzEzLjI3MzUgMi41NjU4IDEzLjMyMjYgMi4zMzIwMiAxMy4yNTc1IDIuMTg3NDVDMTMuMTE4NSAxLjg4MTc2IDEyLjUyMjIgMS45MjQzNSAxMi41MDkgMS41ODYwOUMxMi41IDEuNDQ4MjggMTIuNTgwNCAxLjQ2MzU2IDEzLjE3MDIgMS42MDE4OEMxMy40MTk3IDEuNjYwMDEgMTMuNDQ0NiAxLjY2Mzc3IDEzLjQ4MDMgMS41ODY4NEMxMy41Nzg2IDEuMzY1NTkgMTMuMjQwMyAxLjI0NjgzIDEyLjk0MjEgMS4xNzQ0MUMxMi4wNDQ3IDAuOTU2OTIzIDExLjIxODEgMC45ODUyMzYgMTAuODY3MiAxLjEyMTc5QzExLjIyMTUgMS4yOTA5MyAxMS4zMTM0IDEuNjMxMTkgMTEuMjAxMSAxLjc5MzU2QzExLjEyMzcgMS44OTcwNCAxMS4xNzkxIDEuNjI1NDMgMTAuNzgwNCAxLjM4NDE0QzEwLjM0NTMgMS4xMjA3OSA5LjU3NjU1IDEuMDc4MiA5LjQyNjM1IDEuMjkwNjdDOS4zNDIwMiAxLjQxMDQ0IDkuMzE4MzEgMS43NjYyNSA5LjM0NDUxIDEuOTI3NjFDOS4zODg5MiAyLjIwNDk5IDkuNDc4IDIuNDc2ODUgOS43ODMxNCAyLjY4MjA2QzEwLjIwMjYgMi45NjQyIDEwLjQ4NDggMi44MDc1OSAxMC40NDU2IDIuODk3NTVDMTAuMzU3IDMuMDg4NDggOS44MTAzNCAzLjA2MTY3IDkuNDkwMjIgMi44MDYwOUM5LjIyNDUgMi41OTQxMSA5LjAyNzM5IDIuMzEzOTggOC45NzU0OSAxLjkxNjMzQzguOTM5MDYgMS42MzM3IDguOTc2NDkgMS4yMDg0OSA5LjEwNTI0IDEuMDU0ODlDOS4yNzkzOSAwLjg0NzY3NiA5Ljc3NDE2IDAuODAyMDc0IDEwLjIzNjUgMC44OTMwMjlDMTAuNjA4OCAwLjc3ODUyMSAxMS4xMDEzIDAuNzA2MTA3IDExLjQ3OTggMC43MzI5MThDMTEuMjE0OCAwLjUwOTkxNSAxMC42OTAzIDAuMzk1NDA3IDEwLjIyNjMgMC4zODExMjVaTTE1LjU3OTcgMy43ODU1NUMxNS40ODkxIDMuOTczNzIgMTUuMzI5NCA0LjIxNTI3IDE1LjE1ODUgNC4yOTcyQzE1LjQyOTIgNC4zNDU4MSAxNS44ODkzIDQuNDQyMjggMTYuMjI5MSA0LjQwNTQ0QzE2LjY1MzYgNC4zNTkwOSAxNi45MDg4IDMuOTYzMiAxNi42ODI3IDMuNTYxNTRDMTYuNjY2OCAzLjUzMzQ4IDE2LjY3NDMgMy40NTMwNSAxNi43NzkxIDMuNTEwNDNDMTcuMzA0OCAzLjc5NTgyIDE3LjE5NTcgNC41NjY4MSAxNi42NDc2IDQuNzY0QzE2LjEyNDMgNC45NTI0MyAxNS40NzM2IDQuNjY5NTQgMTUuMDE0MyA0LjU5Mjg3QzE1LjA4MjcgNC43MTY2NCAxNS4xMzAzIDQuODc0MjUgMTUuMTM5NSA0Ljk2NDJDMTUuMjY4IDQuOTk4NzggMTUuNTg4MiA1LjA5MTI0IDE1LjU3NjIgNS4yMTEwMUMxNS41MyA1LjU3NTU4IDE1LjQ2MDkgNi4wMTMwNyAxNS4zMTA1IDYuMzUwODNDMTUuMTc2MiA2LjY1MTc2IDE0LjkzMzcgNy4wMDAwNCAxNC42MzczIDcuMDM5MzhDMTQuNjk3NyA1Ljk5NzAzIDEzLjU0MiA2LjcxNjE1IDEyLjg4OSA2LjUwMDQxQzEyLjgzMDEgNy4yNDE4NCAxMy45ODcxIDcuNDM4NzggMTUuMjIzMSA3Ljk3MDIzQzE1Ljg2NjkgOC4yNDczNSAxNi40OTc0IDguNTkwMTIgMTYuOTE3IDkuMjMzNTdDMTcuNDA2MSA4Ljg1OTczIDE3LjgyMDIgOC42MzU0OCAxOC40Njc3IDguMzA0NzNDMTguNzEwNyA4LjE4MDcgMTguOTM1IDguMDY3MiAxOC45ODE3IDcuODM1NjdDMTkuMDE5MSA3LjY1MjAxIDE4Ljk5OTIgNy4xNjc0MiAxOC45NjA3IDYuODc4NzdDMTguNzY3NiA1LjQzMjAxIDIwLjE2NjEgNC42MzQ0NiAyMS4xMDc1IDUuMzY4ODZDMjEuMDgxOCA1LjQxMTQ2IDIxLjA1NDggNS40Nzc4NiAyMS4wNDg0IDUuNTQ4MDJDMjEuMzM5NSA1LjYyMjk0IDIxLjY0ODkgNS44MTIzNiAyMS44NDY1IDYuMDA1MDVDMjEuNzg0OSA2LjA3NTk2IDIxLjczNzIgNi4xNTA2MyAyMS43MDggNi4yMzY1N0MyMS45NDE4IDYuMzM4NTUgMjIuMjQ5NyA2LjU5MjYyIDIyLjM0NzggNi44NDg0NUMyMi4yMzA4IDYuOTUxNDMgMjIuMDkzIDcuMTYyNDEgMjIuMDQyOSA3LjI2ODY1QzIxLjg2NjcgNy42NDAyMyAyMS44NjUgOC4xMTEwNCAyMS43ODU5IDguNTM1MjVDMjEuNzE2OCA4LjkwNDA4IDIxLjU3NjEgOS4zMTUyNiAyMS4zNDEgOS41OTQ2NEMyMC44MjkgMTAuMjAyOCAxOS43Nzc2IDEwLjU0MDMgMTkuMjU4NiAxMS4xODA3QzE5LjA4MTcgMTEuMzk5MiAxOS4wODAyIDExLjg2ODUgMTkuMzg2MSAxMS45Nzk1QzE5LjA5MyAxMi4zNTAxIDE4LjYwMzQgMTIuNDA4MiAxOC4yODgxIDEyLjM2OTZDMTguMzQzIDEyLjYwMTkgMTguNjAyNCAxMi43MzE3IDE4LjczNDIgMTIuNzQ0N0MxOC4yOTQxIDEzLjYyODcgMTcuNTE2MSAxMy4xODY3IDE3LjEzNzggMTMuNDI2OEMxNy4xMDEyIDEzLjU0MTggMTcuMDczMiAxMy42MTE5IDE3LjAzOTUgMTMuNjg4NEMxNy42NzkgMTMuNzk4OSAxOC4zNTc3IDE0LjAyNjQgMTguNzQ0OSAxNC4xODQyQzE5LjA4NCAxNC4zMjMgMTkuNTk5IDE0LjYyNyAyMC4wNzk4IDE0LjQ0OThDMjAuMzczMiAxNC4zNDEzIDIwLjY1MTYgMTQuMDM4OSAyMC45MTc0IDEzLjgzNzRDMjEuMjcwNyAxMy41Njk4IDIxLjY2MjEgMTMuMjYzNCAyMi40MDM3IDEzLjM1MjFDMjMuMDYyMSAxMy40MzA4IDIzLjc1NzIgMTQuMDYwNSAyMy43MDA2IDE1LjA4NzVDMjMuNjI1NSAxNS4wNzc3IDIzLjU2MzQgMTUuMDc4IDIzLjUwODUgMTUuMDg3NUMyMy41Mzg5IDE1LjI0NDkgMjMuNTc4MyAxNS41OTI3IDIzLjU0ODcgMTUuODAyNkMyMy40NDk5IDE1Ljc4ODEgMjMuMzczOCAxNS43OTQ2IDIzLjMxNzEgMTUuODA1NkMyMy4zMzIzIDE1Ljk5NTggMjMuMjc3OSAxNi4zODYyIDIzLjE1MTQgMTYuNjE4MkMyMi45NjI2IDE2LjU1NTEgMjIuNjc4NiAxNi41MDc3IDIyLjQyOTYgMTYuNTg4NkMyMS43MzUgMTYuODEzNyAyMS4yNzMyIDE3LjU2NzYgMjAuMTczMSAxNy40NzUxQzE5LjkxNDEgMTcuNDUyOCAxOS41OCAxNy4zOTQyIDE5LjMyMDMgMTcuMzM0MUMxOS4wNzQ1IDE3LjI3ODUgMTguNzIwMiAxNy4xNDU5IDE4LjU0OTggMTcuMTcwN0MxOC4zNTA3IDE3LjE5OSAxOC4zMzg3IDE3LjMyNzggMTguMzAxOCAxNy41NDQxQzE3LjgxNCAxNy40NjIxIDE3LjUyNTMgMTcuMTg3IDE3LjQ1MjIgMTYuOTA4MUMxNy4yMzU5IDE3LjA2MzcgMTcuMjUzNiAxNy4zNDQ0IDE3LjI0OTkgMTcuNTk3MkMxNi44Mjk1IDE3LjU1ODggMTYuNDQ2NSAxNy40MDMgMTYuMjM1NCAxNy4wOTc1QzE2LjA4MzQgMTcuNDA0NyAxNS42ODkgMTcuNjk4NCAxNS4yMjkxIDE3LjY4NjlDMTUuMjU3MSAxNy40OTM5IDE1LjIyNjQgMTcuMTgzNyAxNS4wMTc4IDE2Ljk4NTVDMTQuNzQwNiAxNy4zMjc4IDE0LjQyOTcgMTcuNTg4MiAxMy45ODAzIDE3LjkxMDRDMTQuODE3MiAxOC4zMzE4IDE1Ljc1ODEgMTguODgyOCAxNi41NzYyIDE5LjU4NzJDMTcuMzIxNSAyMC4yMjc4IDE4LjIwMTUgMjEuMjQwNCAxOC4yNDg0IDIyLjI3MzVDMTguMjk4OCAyMy4zODU3IDE3LjUwMTkgMjQuMDI4NCAxNi44NjM2IDI0LjUwMTVDMTYuMjMxNiAyNC45NzE4IDE1LjcwNDQgMjUuMzUwNiAxNS4xMDExIDI1Ljc1NjNDMTUuMDQ1IDI1Ljc5MTYgMTUuMDQ4NSAyNS44MjI1IDE1LjA2MzkgMjUuODY3OEMxNS4yMDg3IDI2LjI4OTggMTUuNDI0MiAyNi43MDU3IDE1LjY2NDMgMjcuMDE0NEMxNS44MDA3IDI3LjE5MDUgMTYuMDczNyAyNy41MTQgMTYuMzQ1NyAyNy41MjE1QzE2Ljc2NDggMjcuNTM0OCAxNy4zNjA0IDI3LjE1MDkgMTcuODQgMjcuMDkwNkMxOC44ODc5IDI2Ljk1NzMgMTkuNjQ3NiAyNy44NCAxOS4zMTMzIDI4Ljk4ODFDMTkuMjQ3MiAyOC45NTQzIDE5LjE1NTMgMjguOTM5NyAxOS4wOTYyIDI4Ljk0NjdDMTkuMTA3MiAyOS4yOTA4IDE4Ljk5MjcgMjkuNjUzOCAxOC44OTQ0IDI5Ljg1MjNDMTguODA5NSAyOS43OTY0IDE4LjcxMTcgMjkuNzY1MyAxOC42NDQ2IDI5Ljc1NTFDMTguNTkzIDMwLjA0MDUgMTguNDM3OCAzMC40MjA4IDE4LjI0MzIgMzAuNjEwNUMxOC4xMDY3IDMwLjQ5IDE3Ljg4NzEgMzAuNDI1MyAxNy43NjA2IDMwLjQxMDhDMTYuMjcwMyAzMC4zNDg5IDE1LjU4MjIgMzAuNTQ3NCAxNS4wNTA3IDMwLjIwMThDMTQuODgxNiAzMC4wOTE4IDE0LjY5MjIgMjkuNzk2NCAxNC41NCAyOS41OTVDMTQuMzgxIDI5LjM4NSAxNC4yMDUxIDI5LjA2MDMgMTQuMDM5NSAyOS4wMTg5QzEzLjgzMDkgMjguOTY3MyAxMy43MDExIDI5LjA0OTcgMTMuNTk0NCAyOS4xNTgyQzEzLjQ0NzEgMjguOTcwNiAxMy4zNTQ4IDI4LjY4NTQgMTMuMzk2NyAyOC40NDU2QzEzLjIwMzYgMjguMzk3NSAxMi45NzM2IDI4LjU2MTYgMTIuODQwOCAyOC42OTM5QzEyLjY3ODQgMjguNDczOSAxMi41ODQxIDI4LjA2NjUgMTIuNjM3NSAyNy43MjdDMTIuMzc5IDI3LjY2ODQgMTIuMTI2NSAyNy44NDIgMTEuOTg3MyAyOC4wMDY0QzExLjczMzMgMjcuNTkwNCAxMS43ODU5IDI3LjEzNDkgMTEuOTM5OSAyNi44NzY2QzExLjU4OTggMjYuODA1NyAxMS4yODQ3IDI2LjU2MTkgMTEuMTYzMiAyNi4yMjA5QzExLjc1NzcgMjUuOTY2NSAxMS44NDA4IDI1LjU4MjkgMTIuMDM3MiAyNS4xNTY3QzEyLjI5NjIgMjQuNTkzOSAxMy45NDkyIDI0LjUzMDUgMTQuMTI0MSAyMy43MzdDMTQuMTc5OSAyMy40ODQyIDE0LjA5NjEgMjMuMTUzNyAxNC4wMDY4IDIyLjk4NzNDMTMuNTYzMiAyMi4xNTkgMTIuMTU1OSAyMS44OTc0IDEwLjk1MDMgMjEuOTA2MUMxMC45MDM3IDIyLjU5MjQgMTAuODMwMyAyMy4xNzg3IDEwLjY5NTMgMjMuNjg3MUMxMC41Njg4IDI0LjE2MzUgMTAuMzU3OCAyNC42MjM1IDEwLjA2MDEgMjQuOTU4NUM5LjY2NDEzIDI1LjQwMiA4Ljk3MTc1IDI1LjY1MjEgOC4zNDA3NSAyNS44NEM3LjcwODUgMjYuMDI4NCA3LjE1MzEgMjYuMTUzMiA2LjQ4NzY2IDI2LjMxMDNDNi4zNzgxMyAyNi4zMjIxIDYuNTQxODEgMjcuNDU4NCA2Ljg4MzM4IDI4LjE5NDZDNy4wNjkyNiAyOC41OTQgNy4xMzg4OCAyOC44MTAyIDcuNDcwNDcgMjguNzYwMUM3Ljg4MzQgMjguNjk2OSA4LjQ0Nzc5IDI4LjQxNzggOC45NzAyNSAyOC40MzY4QzEwLjAzNDEgMjguNDc1MiAxMC43Nzg0IDI5LjYxMTIgMTAuMTk0MSAzMC43NzExQzEwLjEyNTcgMzAuNzMxIDEwLjA3NDYgMzAuNzA0NSAxMC4wMTU0IDMwLjY5NDJDOS45NzU1MSAzMC45NTYgOS44NjQ3MyAzMS4yMTQ0IDkuNzU4NDQgMzEuMzg4QzkuNjcwNjIgMzEuMzI0OSA5LjYwNCAzMS4yOTU1IDkuNTE5NDIgMzEuMjY5QzkuNDEzODcgMzEuNTk2NyA5LjIwMzI5IDMxLjg3MTMgOS4wMjA5IDMxLjk5MzRDOC44ODg2NiAzMS44NTgzIDguNzA4NTIgMzEuNzM0OCA4LjQ0OTUzIDMxLjcyNDVDNi44NDI0NiAzMS42NjM5IDYuMTQ5MDggMzEuOTAwOSA1LjQ5NjEzIDMxLjMwNDNDNS4yODMwNSAzMS4xMDg0IDUuMTE0ODggMzAuNzg4NCA0Ljk3NTE2IDMwLjQ2MTlDNC43MDIyIDI5LjgyNTcgNC40ODUzOCAyOS40NzYyIDQuMDE2NTUgMjkuOTQwNUMzLjgyMzY4IDI5LjY0NzggMy44MDE0OCAyOS4yNzkgMy45Mjc5OCAyOS4wMzUyQzMuNzE4MTQgMjguOTY3MyAzLjQzMjcxIDI5LjA2MDMgMy4yNjIzIDI5LjE0NDlDMy4wOTIzOCAyOC44NDQzIDMuMTE0MDkgMjguMzUxOSAzLjI5NzQ4IDI4LjEwOTRDMi44NTU4NSAyOC4wNjUgMi40MzY0MyAyNy42OTc3IDIuMzU1MzQgMjcuMjA2OEMyLjYwNzM0IDI3LjIxNDEgMi45MjU3MSAyNy4wNzkgMy4xMDMxMSAyNi45MDI5QzIuNjkzMTcgMjYuODE4NyAyLjM2NDgyIDI2LjQ2MDYgMi4yNjk1MSAyNS45ODEzQzIuNTQwNzIgMjUuOTgxMyAyLjg0ODYxIDI1LjkyMDcgMy4wMjE1MiAyNS43ODU2QzMuNDExNzUgMjUuNDc4NyAzLjI4ODk5IDI0Ljg2MTMgMy44OTMzIDI0LjY1ODNDNC42MTgxMSAyNC40MTQ1IDYuMDM2NTYgMjQuNzQzOCA2LjA3NzcyIDIzLjgzNEM2LjA5NTQ0IDIzLjQ1MzQgNS44MTg0OSAyMi43MjYgNS43MDA0NyAyMi4yNzJDNS41NzUyMiAyMS43ODk5IDUuNTA0NjEgMjEuMjg1NyA1LjUwNDg2IDIwLjcyOUMyLjE1ODczIDIxLjA0OTUgMS4wODczNSAxOC44MjI5IDEuMTgxOTEgMTcuMDE1MUMxLjI1OTI2IDE1LjUzOTggMS43ODg3MSAxNC41MTYgMi42Mzk1MyAxMi44MTM0QzMuNjg4MiAxMC43MTU3IDQuNDQ5NyA5LjIwNTUxIDQuMzg1MDcgNy43NjQ1MUM0LjM1NTYzIDcuMTA3NTMgNC4xMTQ4NiA2LjMzMzA0IDMuNjI3NTcgNi4xOTYyM0MyLjY5NzQxIDUuOTM0MzkgMi4zNDE4NyA2Ljk5NDc4IDIuNzkzMjIgNy41NDA3NkMyLjk0NTY3IDcuNzI0OTIgMy4yNDAzNCA3Ljg2MDIzIDMuNTkzMTQgNy44MjM5QzMuNjA1MTIgOC4zMTIgMy4zNTgxMSA4LjYxMTQyIDMuMDE0MDQgOC42OTI4NkMzLjEzNDA1IDkuNTg2NjIgMi43Njk3NyAxMC4zNDA4IDIuMTM1MDMgMTAuNjkwMUMyLjEyNzI5IDEwLjU4NzQgMi4xMDA4NCAxMC41MDU0IDIuMDc0NCAxMC40MDY1QzEuNjE4MDUgMTAuNzY0OCAwLjYzNzIzOSAxMS4xNDA5IDAgMTAuNzA4MUMwLjE4Nzg3OCAxMC40OTI3IDAuMjgzOTM4IDEwLjM3OTkgMC40MDQ5NDkgMTAuMjEyNUMwLjY1NDIwNiA5Ljg2ODc2IDAuODYyMjk0IDkuNDU0NTcgMC44OTIyMzUgOC45NzkyNUMwLjkyMzQyMyA4LjQ4MjM4IDAuOTQzODgyIDcuOTk1NzggMC45NTM2MTMgNy41ODk2MkMwLjk4NDU1MiA2LjMwODQ4IDEuODMxMTMgNC45ODQ1IDMuMzg3MDUgNS4xMDEwMUM0LjY5NzcxIDUuMTk4NDggNS40NDA0OSA2LjI3NDY2IDUuNTA3ODUgNy43MTQ2NUM1LjU4NTQ1IDkuMzc0ODkgNC43NTA4NSAxMS4yODAyIDMuNjIwNTkgMTMuOTQyNEMzLjE3MTQ3IDE0Ljk5OTEgMi43NTM1NSAxNi4wOTg4IDIuNzg3MjQgMTYuOTQ3NUMyLjgyOTE1IDE3Ljk4OTYgMy41MjMwMyAxOC43MTk0IDQuNTAyMzQgMTguNzQ1QzUuMDk5NjYgMTguNzU5NSA1LjgzNzIgMTguNDcwMSA2LjE0NjU5IDE4LjE1NDJDNi4xODk3NSAxOC4xMDk4IDYuMjMxNjcgMTguMDQ4MiA2LjM5OTA5IDE3LjgxNDdDNy4xNDYxMSAxNi43NzI4IDguNjc3ODMgMTYuMDk5NSA4Ljc2OTE1IDE0LjQ1NjhDOC4yNTY0MSAxNC42MTUyIDcuNTk2MjIgMTQuMjk3NSA3LjQ4NDk0IDEzLjkxODFDNy45NDIyOSAxMy43NDgyIDguMjY5MTQgMTMuMzc1NCA4LjE1NTYxIDEyLjQxOEM4LjE0Nzg4IDEyLjMyODUgOC4xMzU5IDEyLjIwMTMgOC4xMzE2NiAxMi4wOTFDNy44Nzg2NiAxMi4xMzM2IDcuNjcxMzIgMTIuMzE0OCA3LjU1MTU2IDEyLjUxMDJDNi43MjAyIDExLjY0ODMgNy4xNDk4NSAxMC41NDggNy40MzE4IDkuNzgyMzFDNi43OTI1NiA5LjgxMzg4IDYuMjgwMDcgOS4zMjE1MiA2LjIxNDcgOC44ODQyOUM2LjUyMzg0IDguODQzNyA2LjcxODQ2IDguNjE2NjggNi43MTA3MiA4LjM0NDA3QzYuNzA0NzMgOC4xMTg1NiA2LjU0NzU1IDcuNzc2MjkgNi40MjQyOSA3LjUwNjY4QzYuMDcyMjQgNi43MzU2OSA1LjczMTY2IDUuOTYwOTUgNS43NTExMiA0LjkwOTgzQzUuMjkzMjggNC42OTI4NCA1LjA5MTkzIDQuMTU1MTMgNS4xMDQ5IDMuNzMxNjhDNS40OTc2MiAzLjcwMjg2IDUuNzc2ODIgMy41MTQ5NCA1Ljc4ODggMy4yNjI4N0M1Ljc5ODUzIDMuMDYyMTcgNS44MzE3MSAyLjY4NzMyIDUuOTE1MDUgMi40NDAwMUM1Ljc2NTA5IDIuMjkzMTggNS41MjUwNyAxLjg0MzkyIDUuNzYwNiAxLjMxNjQ4QzUuOTI4MDIgMS4zNTU1NyA2LjE5MSAxLjM2Mjg0IDYuMzUwNDQgMS4yNzQ2NEM2LjQxOTggMS4yMzU4IDYuNTU1MjggMC45OTI3NTMgNi43ODU4MiAwLjgyMzM3MkM2Ljc1MjE0IDAuNjU5MjUyIDYuNzgzNTggMC4yOTIxNzUgNi45NjU3MiAwLjA1OTY1MDZDNy4wNzggMC4xMTA3NjYgNy4yNTk2NCAwLjE2MDYyOCA3LjQzODI4IDAuMTc4NjY5QzguMjEzIDAuMjU3NTk3IDEwLjA1NTQgLTAuMjkyMzkzIDExLjQxNzIgMC4yMjMyNjlDMTEuNzAwOCAwLjMzMTAxMiAxMS45NDE0IDAuNDkzODc5IDEyLjExODMgMC42NzE3OEMxMi4zODg3IDAuNzAwODQ1IDEyLjcyODMgMC43NTk0NzggMTMuMDYzNCAwLjgzNTE0OEMxMy43MzAxIDAuOTg1MjM2IDEzLjcxNjYgMS4xMDU3NiAxMy45NjU0IDEuMTU0NjJDMTQuMDY2NCAxLjE3NDE2IDE0LjM0NTYgMS4xOTQyMSAxNC42MjQ4IDEuMjE4MjZDMTQuOTIyNSAxLjI0MzgyIDE1Ljc3OTUgMS40MDA2NyAxNS45NDkyIDEuNTg0MDlDMTYuMTAzNiAxLjc1MTk2IDE1Ljk0NTcgMi4wNTMzOSAxNS45NTQ0IDIuMzgyODlDMTUuOTYyNCAyLjY4NzA3IDE2LjExNDQgMy4yMjU1MyAxNS45MDg1IDMuNTg3NkMxNS44NDE3IDMuNzA0MzYgMTUuNzA5OSAzLjc2MzI1IDE1LjU3OTcgMy43ODU1NVpNMTAuOTQ2NyAyLjE1NjVDMTAuOTA2IDIuMzQ4NjggMTAuNzQwNiAyLjM5NjI5IDEwLjczOTYgMi4yNTI3MkMxMC43Mzc5IDEuODQzMyAxMC4zMTA5IDEuNjM1MDggOS44NTk1OSAxLjU5NDczQzkuNzM5ODMgMS41ODM3MSA5Ljg1OTM0IDEuNDk2MjYgOS45ODM4NSAxLjQ4NDQ5QzEwLjQxNTUgMS40NDMxNCAxMS4wMzkzIDEuNzE3MjYgMTAuOTQ2NyAyLjE1NjVaTTcuMjYyMDggNS44MDg1M0M3LjEwOTEzIDYuNjgxMjUgNy41ODA0NSA2LjczNjg3IDcuNjA1OSA3LjM4MDA3QzcuOTE5MjggNy40Mzk3MSA4LjI2NDEgNy4yMTA2OSA4LjQ1Mzk3IDYuOTEwMjZDOC40ODU0MSA2Ljg2MDQgOC41MTQ4NSA2LjkxMTI3IDguNDg3NDEgNy4wMjE3NkM4LjM3NTM4IDcuNDczMjggNy44MDAyNyA3LjkxNjI4IDcuMjQ2NjEgNy43MjIzNEM3LjQ5NTYyIDcuMTM1MDIgNi43NzM4IDYuNTY4MjQgNy4xNjAwMyA1Ljg1MDEyQzcuMjM2MzggNS43MDk1NiA3LjI3MzA2IDUuNzM2NjIgNy4yNjIwOCA1LjgwODUzWk04LjgxMzM0IDguMTc2MTdDOC44NjM0OSA4LjExMzI3IDguOTA3NCA4LjEzMDMxIDguODg5NDQgOC4xOTIyQzguNDU2NzkgOS42Mzk3MSA5LjUxOTk0IDkuNzQyNyA5LjYwMTAzIDEwLjk5MDhDMTAuMDQyNyAxMC44NzEgMTAuMjQxMyAxMC41MTE3IDEwLjM4NyAxMC4wODMyQzEwLjQyMTIgOS45Njc0NSAxMC40ODA1IDEwLjAzMTMgMTAuNDcyMSAxMC4xODY0QzEwLjQ1NDggMTAuNTA4NCAxMC4zNjY1IDEwLjc3MDMgMTAuMjY1IDEwLjkyNTFDMTAuMDgyOCAxMS4yMDM1IDkuNjY3NjUgMTEuNTUyNSA5LjE0MDk0IDExLjQ2NDNDOS40NzU1MyAxMC4zNzU2IDguNTYzMzMgOS45NzA0NiA4LjU2MDU5IDguOTkzMDFDOC41NjAwOSA4Ljc2NTI0IDguNjUwNjYgOC4zNjUwOSA4LjgxMzM0IDguMTc2MTdaTTE0LjQ1NjIgMTAuNzg1M0MxNC40MjEzIDEwLjczNDIgMTQuNDE5IDEwLjYzOTcgMTQuNjA5OSAxMC44MTU0QzE1LjQ3MjIgMTEuNjA4NyAxNC42MjI0IDEyLjk5MDUgMTUuMjAwNyAxMy42NzM4QzE0LjQwNjggMTMuOTg1OCAxMy42NDY4IDEzLjQzNSAxMy41NTggMTIuOTY0QzEzLjUxNjYgMTIuNzMyNSAxMy42ODIgMTMuMDQxNCAxMy45MDA4IDEzLjE4N0MxNC4wODQ3IDEzLjMwOTUgMTQuNDQyNSAxMy40MzU1IDE0LjYyOTYgMTMuMzkyNEMxNC40MDY4IDEyLjU0MjUgMTUuMDkzNyAxMS44MjE3IDE0LjQ1NjIgMTAuNzg1M1oiIGZpbGw9IiNGRkZGRkUiLz4KPC9zdmc+Cg==',
  };

  async initBot({ reset = false } = {}) {
    const webchat = document.querySelector('.mdl-chatbot__webchat') as HTMLDivElement;
    const UniqueContainer = reset
      ? document.createElement('div')
      : (document.querySelector('.mdl-chatbot__webchat div') as HTMLDivElement); // can't unmount the internal react component, so I need to create a new parentnode
    const { tokenUrl, apiUrl, placeholder, botname } = this.ui.element.dataset;

    let token = sessionStorage.getItem('botToken');

    if (!token || reset) {
      const options: RequestInit = { method: 'POST' };
      if (tokenUrl.includes('botframework.com')) {
        // TODO remove again when integrated with backend API
        options.headers = {
          Authorization: 'Bearer TC7Ny_XJ5Y8.onzfM3HldRzliYJnMibKFxvB9KORfcHzfUWm0Xxkwb8',
        };
      }
      const res = await fetch(tokenUrl, options);
      if (!res.ok) throw new Error('Failed to fetch token');
      const { token: newToken } = await res.json();
      token = newToken;
    }

    // middleware - here we could manipulate some actions
    // const store = (window as any).WebChat.createStore({}, () => (next) => (action) => {
    //   console.log(action);
    //   return next(action);
    // });

    (window as any).WebChat.renderWebChat(
      {
        directLine: (window as any).WebChat.createDirectLine({
          token,
          domain: apiUrl,
          watermark: 100,
        }),
        // store,
        styleOptions: this.styleOptions,
      },
      UniqueContainer
    );

    sessionStorage.setItem('botToken', token);
    sessionStorage.setItem('botHref', window.location.href);

    webchat.innerHTML = '';
    webchat.appendChild(UniqueContainer);

    if (botname) webchat.style.setProperty('--botname', `"${botname}"`);

    const placeholderTextElement = document.querySelector(
      '.mdl-chatbot__webchat .webchat__send-box-text-box__input'
    ) as HTMLInputElement;
    if (placeholderTextElement && placeholder) placeholderTextElement.placeholder = placeholder;
  }

  initEventListeners() {
    this.ui.button.addEventListener('click', () => {
      this.ui.error.classList.add('mdl-chatbot__error-hidden');
      this.ui.loading.classList.remove('mdl-chatbot__loading-hidden');
      this.initBot()
        .then(() => {
          this.ui.dialog.dispatchEvent(new CustomEvent('Dialog.open'));
          this.ui.loading.classList.add('mdl-chatbot__loading-hidden');
          window.addEventListener('Dialog.additionalAction', () =>
            this.initBot({ reset: true }).catch((err) => console.error(err))
          );
          // eslint-disable-next-line
          // const input = document.querySelector('.mdl-chatbot__webchat .webchat__send-box-text-box__input') as HTMLInputElement;
          // give dialog time to open before focusing
          // if (input) setTimeout(() => input.focus(), 100);
        })
        .catch((err) => {
          this.ui.error.classList.remove('mdl-chatbot__error-hidden');
          // this.ui.error.textContent = err.message || 'Error';
          console.error(err);
        })
        .finally(() => {
          this.ui.loading.classList.add('mdl-chatbot__loading-hidden');
        });
    });

    // on click on internal link, add urlparam to it
    this.ui.dialog.addEventListener('click', (e) => {
      if (e.target instanceof HTMLAnchorElement) {
        const a = e.target;
        if (a.origin === window.location.origin) {
          const url = new URL(a.href);
          if (url.searchParams.get('backToChat') === 'true') return;
          e.preventDefault();
          url.searchParams.set('backToChat', 'true');
          a.href = url.href;
          a.click();
        }
      }
    });

    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.has('chatbotIsOpen')) {
      this.ui.button.click();
    }
  }

  destroy() {
    super.destroy();
  }
}

export default Chatbot;
