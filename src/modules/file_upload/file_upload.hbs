<div {{#if rules}}data-rules="{{rules}}"{{/if}}>
  <fieldset class="mdl-file_upload" data-init="fileUpload" data-input>
    {{#if title}}<legend class="atm-heading h4">{{title}}</legend>{{/if}}
    {{#if subtitle}}<p id="{{input.id}}__subtitle" class="mdl-file_upload__subtitle">{{subtitle}}</p>{{/if}}
    <input
      class="visuallyhidden"
      type="file" name="{{input.name}}"
      id="{{input.id}}"
      data-file_upload="input"
      aria-describedby="{{#if subtitle}}{{input.id}}__subtitle{{/if}} {{#if formatHint}}{{input.id}}__format-hint{{/if}}"
      {{#if isMultiple}}data-multiple{{/if}}
      {{#if validation}}data-validation{{/if}}
      {{#if validation.maxSize}}data-max-size="{{validation.maxSize}}"{{/if}}
      {{#if validation.fileTypes}}data-file-types="{{validation.fileTypes}}"{{/if}}
      {{#if validation.isRequired}}required{{/if}}
    />
    <div class="mdl-file_upload__dropzone" aria-hidden="true" data-file_upload="dropzone">
      {{#if dropzoneHint}}<p class="mdl-file_upload__dropzone-hint">{{dropzoneHint}}</p>{{/if}}
      {{#if formatHint}}<p id="{{input.id}}__format-hint" class="mdl-file_upload__format-hint">{{formatHint}}</p>{{/if}}
      <label class="mdl-file_upload__button atm-button atm-button--secondary" for="{{input.id}}">{{buttonLabel}}</label>
    </div>
    <p class="mdl-file_upload__error" data-message="required">Bitte geben Sie eine Datei an.</p>
    <p class="mdl-file_upload__error" data-message="onlyonefile">Sie können nur 1 Datei gleichzeitig hochladen.</p>

    <div class="mdl-file_upload__list" data-file_upload="list">

    </div>

    <div class="mdl-file_upload__template" data-file_upload="item-template">
      <div class="mdl-file_upload__file" data-file-id="<%- fileID %>">
        <div class="mdl-file_upload__file-meta">
          <span class="mdl-file_upload__file-title"><%- fileTitle %></span>
          <span class="mdl-file_upload__file-info"><%- fileType %> | <%- fileSize %></span>
          <p class="mdl-file_upload__error" data-message="size">Die Datei ist grösser als die maximale Dateigrösse.</p>
          <p class="mdl-file_upload__error" data-message="type">Zulässige Dateiformate: csv, gif, html, jpeg, pdf, png, tiff, rtf, svg, txt, xml (max. 25 MB).</p>
        </div>
        <button class="mdl-file_upload__file-delete" data-file_upload="delete">
          <span class="visuallyhidden">Datei wieder entfernen</span>
          <svg class="icon" focusable="false">
            <use xlink:href="#delete"></use>
          </svg>
        </button>
      </div>
    </div>
  </fieldset>
</div>
