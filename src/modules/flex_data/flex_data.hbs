<div class="mdl-flex-data" data-init="flexData" data-source="/mocks/modules/flex_data/flex_data.json">
  <div class="mdl-flex-data__form">
    <form novalidate>
      {{#if flexTableFormData}}
      {{> "modules/form/form" flexTableFormData }}
      {{/if}}
      {{#if flexGenericFormData}}
      {{> "modules/form/form" flexGenericFormData }}
      {{/if}}
      <div class="mdl-flex-data__form-controls">
        <button data-clear-flex type="button" class="atm-button atm-button--secondary">Zur√ºcksetzen</button>
        <button data-search-flex type="button" class="atm-button ">Suchen</button>
      </div>
    </form>
  </div>
  <div class="mdl-flex-data__results" data-result-count-title="{{resultCountTitle}}">
    <script data-flex-template type="text/x-handlebars-template">
      {{#if tableData}}
      {{#each tableData.headers}}
        <td class="mdl-table__cell" data-table="cell"><%=text{{@index}}%></td>
        {{#if @last}}
        <td class="mdl-table__cell" data-table="cell"><a href="<%=link%>" class="atm-text_link">Details</a></td>
        {{/if}}
      {{/each}}
      {{/if}}
      {{#unless tableData}}
        <ul class="mdl-search_page__list">
          <% _.forEach(results, function(item, index) { %>
          <li class="atm-search_result_item">
            <span class="atm-search_result_item__meta">
              <span class="atm_search_result_item__type">
                <%- item.typeLabel %>
              </span>
            </span>
            <a class="atm-search_result_item__content" href="<%- item.link %>">
              <h4 class="atm-heading">RRB Nr. <%- item.decisionNumber%>/<%- item.year %> <%- item.title %></h4>
              <p><%- item.text %></p>
            </a>
            <% } %>
          </li>
          <% }); %>
        </ul>
      {{/unless}}
    </script>
    {{#if tableData}}
    {{> "modules/table/table" tableData }}
    {{/if}}
    {{#unless tableData}}
    <h4 class="atm-heading mdl-flex-data__results-title"></h4>
    <div class="mdl-flex-data__results-generic"></div>
    {{/unless}}
    <div class="mdl-flex-data__pagination">
      {{> "modules/pagination/pagination" pagination }}
    </div>
    {{> "atoms/loading_circle/loading_circle"}}
  </div>
</div>
