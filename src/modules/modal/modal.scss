$modalCurves: (
  closeTop: (
    xsmall: $sizeRegular,
    medium: $sizeBig,
    xlarge: $sizeLarge
  ),
  closeRight: (
    tiny: $sizeRegular,
    medium: $sizeSmallBig,
  )
);

.mdl-modal {
  $scrollHeightMax: 400px;
  $scrollHeightMedium: 150px;
  $scrollHeightSmall: 100px;
  $scrollHeightTiny: 50px;

  position: fixed;
  overflow-y: scroll;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  z-index: $zIndexOverlays;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  max-height: 0;
  opacity: 0;

  @include transition(opacity, $transitionTimeMorph, $transitionEasingAccelerate);

  background-color: $colorWhite;

  &--show {
    display: block;
    opacity: 1;

    max-height: 100%;


    &.mdl-modal--transition-hide {
      @include transition(opacity, $transitionTimeMorph, $transitionEasingDecelerate);

      opacity: 0;
    }
  }

  &--flyout {
    transform: translateY(-20%);

    @include transition(opacity transform, $transitionTimeMorph, $transitionEasingAccelerate);

    &.mdl-modal--show {
      transform: translateY(0);

      @include sizeCurve(padding-top, height, $headerCurves);

      &.mdl-modal--transition-hide {
        transform: translateY(-20%);

        @include transition(opacity transform, $transitionTimeMorph, $transitionEasingDecelerate);
      }
    }
  }

  &__close {
    position: absolute;
    right: 0;

    display: flex;
    align-items: center;

    @include sizeCurve(margin-top, closeTop, $modalCurves);
    @include sizeCurve(margin-right, closeRight, $modalCurves);
    @include textButton;
  }

  &__close-label {
    @include mq($to: large) {
      @include visuallyhidden;
    }
  }

  &__exit {
    height: 0.62 * $sizeLarge;
    width: 0.62 * $sizeLarge;
    margin-left: $sizeSmallRegular;
  }

  .mdl-page-header {
    transform: initial;
    margin: 0;
    position: fixed;
    top: 0;
    left: 0;
    transition: min-height 1s, max-height 1s;
    max-height: $scrollHeightMax;
    min-height: $scrollHeightMedium;

    &--minimal {
      min-height: $scrollHeightTiny;
      max-height: $scrollHeightSmall;
    }
  }
}
